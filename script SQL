create database BDUrbanShoes
go

USE BDUrbanShoes

CREATE TABLE tbClientes (
    CLI_CODIGO INT PRIMARY KEY IDENTITY,
    CLI_NOME NVARCHAR(100) NOT NULL,
    CLI_EMAIL NVARCHAR(100),
    CLI_TELEFONE NVARCHAR(20),
    CLI_ENDERECO NVARCHAR(200) NOT NULL
);

CREATE TABLE tbProdutos (
    PRO_CODIGO INT PRIMARY KEY IDENTITY,
    PRO_NOME NVARCHAR(100) NOT NULL,
    PRO_DESCRICAO NVARCHAR(255) NOT NULL,
    PRO_PRECO DECIMAL(10, 2) NOT NULL,
    PRO_ESTOQUE INT NOT NULL
);

CREATE TABLE tbVendas (
    VEN_CODIGO INT PRIMARY KEY IDENTITY(1,1),
    CLI_CODIGO INT FOREIGN KEY (CLI_CODIGO) REFERENCES tbClientes(CLI_CODIGO),
    VEN_DATA DATETIME DEFAULT GETDATE()
);

CREATE TABLE tbItensVenda (
    IVE_CODIGO INT PRIMARY KEY IDENTITY(1,1),
    VEN_CODIGO INT FOREIGN KEY (VEN_CODIGO) REFERENCES tbVendas (VEN_CODIGO),
    PRO_CODIGO INT FOREIGN KEY (PRO_CODIGO) REFERENCES tbProdutos (PRO_CODIGO),
    IVE_QTDE INT NOT NULL,
    IVE_PRECO_UNIT DECIMAL(10,2) NOT NULL
);
